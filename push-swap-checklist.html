<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Push_swap Project Checklist</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f0f0f0;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        .step {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 5px;
            transition: all 0.3s ease;
        }
        .sub-step {
            margin-left: 30px;
            margin-top: 10px;
        }
        .step:nth-child(odd) {
            background-color: #f9f9f9;
        }
        .step:hover {
            transform: translateX(5px);
        }
        #start, #end {
            background-color: #f9d9eb;
        }
        #radixSort {
            background-color: #d4e6f1;
        }
        #optimizations {
            background-color: #d5f5e3;
        }
        #bonus {
            background-color: #fdebd0;
        }
        input[type="checkbox"] {
            margin-right: 10px;
            transform: scale(1.2);
        }
        label {
            cursor: pointer;
            font-weight: bold;
        }
        .sub-step label {
            font-weight: normal;
        }
        progress {
            width: 100%;
            height: 20px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Push_swap Project Checklist</h1>
        <div id="checklist"></div>
        <progress id="progress" value="0" max="100"></progress>
    </div>

    <script>
        const steps = [
            { id: 'start', label: 'Start', children: [] },
            { id: 'init', label: '1. Initialisation', children: [
                { id: 'parseArgs', label: '1.1 Parse Arguments' },
                { id: 'createStructures', label: '1.2 Create Data Structures' },
                { id: 'initVariables', label: '1.3 Init Control Variables' },
            ]},
            { id: 'baseOps', label: '2. Implement Base Operations', children: [
                { id: 'swap', label: '2.1 Swap sa/sb/ss' },
                { id: 'push', label: '2.2 Push pa/pb' },
                { id: 'rotate', label: '2.3 Rotate ra/rb/rr' },
                { id: 'reverseRotate', label: '2.4 Reverse Rotate rra/rrb/rrr' },
            ]},
            { id: 'radixPrep', label: '3. Prepare for Radix Sort', children: [
                { id: 'analyzeInput', label: '3.1 Analyze Input Data' },
                { id: 'normalizeData', label: '3.2 Normalize Data' },
            ]},
            { id: 'radixSort', label: '4. Implement Radix Sort', children: [
                { id: 'mainRadixFunction', label: '4.1 Main Radix Function' },
                { id: 'bitLoop', label: '4.2 Bit Loop' },
                { id: 'sortByBit', label: '4.3 Sort by Bit' },
                { id: 'returnElements', label: '4.4 Return Elements' },
            ]},
            { id: 'optimizations', label: '5. Optimizations', children: [
                { id: 'smallSets', label: '5.1 Small Sets Algorithms' },
                { id: 'detectSorted', label: '5.2 Detect Sorted Cases' },
                { id: 'optimizeMovements', label: '5.3 Optimize Movements' },
            ]},
            { id: 'output', label: '6. Output Management', children: [
                { id: 'recordOperations', label: '6.1 Record Operations' },
                { id: 'displayOperations', label: '6.2 Display Operations' },
            ]},
            { id: 'testing', label: '7. Testing & Debugging', children: [
                { id: 'unitTests', label: '7.1 Unit Tests' },
                { id: 'performanceTests', label: '7.2 Performance Tests' },
                { id: 'checkerValidation', label: '7.3 Checker Validation' },
            ]},
            { id: 'bonus', label: '8. Bonus: Checker', children: [
                { id: 'parseArgumentsBonus', label: '8.1 Parse Arguments' },
                { id: 'readInstructions', label: '8.2 Read Instructions' },
                { id: 'executeInstructions', label: '8.3 Execute Instructions' },
                { id: 'verifyFinalState', label: '8.4 Verify Final State' },
            ]},
            { id: 'end', label: 'End', children: [] },
        ];

        function createCheckbox(step, isSubStep = false) {
            const div = document.createElement('div');
            div.className = isSubStep ? 'sub-step' : 'step';
            div.id = step.id;

            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.id = `cb-${step.id}`;
            checkbox.addEventListener('change', updateProgress);

            const label = document.createElement('label');
            label.htmlFor = `cb-${step.id}`;
            label.textContent = step.label;

            div.appendChild(checkbox);
            div.appendChild(label);

            return div;
        }

        function renderChecklist() {
            const checklist = document.getElementById('checklist');
            steps.forEach(step => {
                const stepElement = createCheckbox(step);
                checklist.appendChild(stepElement);

                step.children.forEach(subStep => {
                    const subStepElement = createCheckbox(subStep, true);
                    checklist.appendChild(subStepElement);
                });
            });
            loadCheckboxStates();
        }

        function updateProgress() {
            const totalCheckboxes = document.querySelectorAll('input[type="checkbox"]').length;
            const checkedCheckboxes = document.querySelectorAll('input[type="checkbox"]:checked').length;
            const progressPercentage = (checkedCheckboxes / totalCheckboxes) * 100;
            const progressBar = document.getElementById('progress');
            progressBar.value = progressPercentage;
            saveCheckboxStates();
        }

        function saveCheckboxStates() {
            const checkboxStates = {};
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkboxStates[checkbox.id] = checkbox.checked;
            });
            localStorage.setItem('pushSwapChecklistStates', JSON.stringify(checkboxStates));
        }

        function loadCheckboxStates() {
            const savedStates = JSON.parse(localStorage.getItem('pushSwapChecklistStates'));
            if (savedStates) {
                Object.keys(savedStates).forEach(id => {
                    const checkbox = document.getElementById(id);
                    if (checkbox) {
                        checkbox.checked = savedStates[id];
                    }
                });
                updateProgress();
            }
        }

        renderChecklist();
    </script>
</body>
</html>
